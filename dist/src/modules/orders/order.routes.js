import { Router } from "express";
import { createOrderSchema, updateStatusSchema } from "./order.schema";
import { checkOrder, createOrder, listOrders, updateOrderStatus, } from "./order.controller";
import { requireAdmin, requireAuth } from "../../../src/middleware/auth";
import { validateBody } from "../../../src/middleware/validate";
const router = Router();
router.post("/", validateBody(createOrderSchema), createOrder);
router.get("/check", checkOrder);
router.get("/", requireAuth, requireAdmin, listOrders);
router.patch("/:id/status", requireAuth, requireAdmin, validateBody(updateStatusSchema), updateOrderStatus);
export default router;
