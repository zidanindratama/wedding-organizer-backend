import { Router } from "express";
import { checkOrder, createOrder, listOrders, updateOrderStatus, } from "./order.controller.js";
import { validateBody } from "@/middleware/validate.js";
import { createOrderSchema, updateStatusSchema } from "./order.schema.js";
import { requireAdmin, requireAuth } from "@/middleware/auth.js";
const router = Router();
router.post("/", validateBody(createOrderSchema), createOrder);
router.get("/check", checkOrder);
router.get("/", requireAuth, requireAdmin, listOrders);
router.patch("/:id/status", requireAuth, requireAdmin, validateBody(updateStatusSchema), updateOrderStatus);
export default router;
