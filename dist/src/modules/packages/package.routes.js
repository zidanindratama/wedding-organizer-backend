import { Router } from "express";
import { createPackage, deletePackage, getPackage, listAllPackagesAdmin, listPackages, updatePackage, } from "./package.controller";
import { requireAdmin, requireAuth } from "../../../src/middleware/auth";
import { createPackageSchema, updatePackageSchema } from "./package.schema";
import { validateBody } from "../../../src/middleware/validate";
const router = Router();
router.get("/", listPackages);
router.get("/:id", getPackage);
router.get("/admin/all", requireAuth, requireAdmin, listAllPackagesAdmin);
router.post("/", requireAuth, requireAdmin, validateBody(createPackageSchema), createPackage);
router.put("/:id", requireAuth, requireAdmin, validateBody(updatePackageSchema), updatePackage);
router.delete("/:id", requireAuth, requireAdmin, deletePackage);
export default router;
